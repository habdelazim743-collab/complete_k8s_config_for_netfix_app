replicas: 2

minimumMasterNodes: 1

resources:
  requests:
    cpu: 300m
    memory: 1.5Gi
  limits:
    cpu: 800m
    memory: 2Gi

volumeClaimTemplate:
  accessModes:
    - ReadWriteOnce
  storageClassName: gp2
  resources:
    requests:
      storage: 40Gi

# Override the default readiness probe script to accept yellow status
readinessProbe:
  exec:
    command:
      - bash
      - -c
      - |
        #!/usr/bin/env bash -e
        # Accept yellow status for multi-node clusters
        http () {
          local path="${1}"
          curl -XGET -s -k --fail "http://127.0.0.1:9200${path}"
        }
        
        http "/_cluster/health?wait_for_status=yellow&timeout=1s"
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 5
  successThreshold: 3
  failureThreshold: 3
